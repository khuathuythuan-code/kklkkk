<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>

<BorderPane style="-fx-background-color: #121212; -fx-font-family: 'Segoe UI';" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.ExpenseTracker.controller.ChartController">

    <!-- ======= TOP: THANH CHỌN THÁNG - NĂM ======= -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-padding: 20 30;">

            <VBox spacing="4">
                <Label fx:id="monthComboBoxLabel" style="-fx-fill: white;"  />
                <ComboBox fx:id="statsMonthComboBox" prefHeight="30" prefWidth="130" style="-fx-background-color: #2c2c2c; -fx-text-fill: white; -fx-background-radius: 8;" />
            </VBox>

            <VBox spacing="4">
                <Label fx:id="yearComboBoxLabel" style="-fx-fill: white;"  />
                <ComboBox fx:id="statsYearComboBox" prefHeight="30" prefWidth="130" style="-fx-background-color: #2c2c2c; -fx-text-fill: white; -fx-background-radius: 8;" />
            </VBox>

            <Pane HBox.hgrow="ALWAYS" />

            <Button fx:id="yearToggleBtn" style="-fx-background-color: #2ecc71; -fx-text-fill: white; -fx-background-radius: 8; -fx-font-weight: bold; -fx-padding: 8 16"
                    />
            <Button fx:id="monthToggleBtn" layoutX="706.0" layoutY="40.0"
                    style="-fx-background-color: #2ecc71;                         -fx-text-fill: white;                         -fx-background-radius: 8;                         -fx-font-weight: bold;                         -fx-padding: 8 16"
                    />
        </HBox>
    </top>


    <!-- ======= CENTER: 3 CHỈ SỐ ======= -->
    <center>
        <VBox alignment="TOP_CENTER" spacing="25" style="-fx-padding: 10 20;">

            <!-- BOX 3 SỐ CHỈ TIÊU -->
            <HBox alignment="CENTER" spacing="20">

                <VBox alignment="CENTER" spacing="6" style="-fx-background-color: #1e1e1e;                              -fx-padding: 12 20;                              -fx-background-radius: 10;">
                    <Label fx:id="expenseAboveLabel" style="-fx-fill:#b8ffa8;"  />
                    <Label fx:id="expenseLabel"  alignment="CENTER" style="-fx-text-fill: white; -fx-font-size: 18;" text="0" />
                </VBox>

                <VBox alignment="CENTER" spacing="6" style="-fx-background-color: #1e1e1e;                              -fx-padding: 12 20;                              -fx-background-radius: 10;">
                    <Label fx:id="incomeAboveLabel" style="-fx-fill:#ffabab;" />
                    <Label fx:id="incomeLabel" alignment="CENTER" style="-fx-text-fill: white; -fx-font-size: 18;" text="0" />
                </VBox>

                <VBox alignment="CENTER" spacing="6" style="-fx-background-color: #1e1e1e;                              -fx-padding: 12 20;                              -fx-background-radius: 10;">
                    <Label fx:id="totalAboveLabel" style="-fx-fill:#a8c8ff;"/>
                    <Label fx:id="totalLabel" alignment="CENTER" style="-fx-text-fill: white; -fx-font-size: 18;" text="0" />
                </VBox>

            </HBox>


            <!-- ======= BIỂU ĐỒ ======= -->

            <HBox alignment="CENTER" spacing="25">

                <PieChart fx:id="expensePieChart" legendVisible="false" prefHeight="320" prefWidth="380" style="-fx-background-color: #1e1e1e; -fx-background-radius: 12; -fx-padding: 15;" />

                <PieChart fx:id="revenuePieChart" legendVisible="false" prefHeight="320" prefWidth="380" style="-fx-background-color: #1e1e1e; -fx-background-radius: 12; -fx-padding: 15;" />

            </HBox>

            <!-- BAR CHART -->
            <BarChart fx:id="barChart" prefHeight="320" prefWidth="780" style="-fx-background-color: #1e1e1e; -fx-background-radius: 12; -fx-padding: 10;" titleSide="TOP">
                <xAxis>
                    <CategoryAxis fx:id="barXAxis" label="Tháng" />
                </xAxis>
                <yAxis>
                    <NumberAxis fx:id="barYAxis" label="Số tiền" />
                </yAxis>
            </BarChart>

        </VBox>
    </center>

    <!-- ======= BOTTOM MENU ======= -->
    <bottom>
        <HBox alignment="CENTER" spacing="60" style="-fx-background-color: #1e1e1e; -fx-padding: 15;">
            <Button fx:id="btnHome" onAction="#changeScene" style="-fx-background-color: transparent; -fx-text-fill: white;"  />

            <Button fx:id="btnHistory" onAction="#changeScene" style="-fx-background-color: transparent; -fx-text-fill: white;"  />

            <Button fx:id="btnReport" onAction="#changeScene" style="-fx-background-color: transparent; -fx-text-fill: white;"  />

            <Button fx:id="btnSettings" onAction="#changeScene" style="-fx-background-color: transparent; -fx-text-fill: white;"  />
        </HBox>
    </bottom>

</BorderPane>
